@using NotatnikMechanika.Core.PageModels
@using NotatnikMechanika.Shared.Models.Service
@using MvvmPackage.Blazor
@using MvvmPackage.Core
@inherits PageBase<AddServiceToOrderPageModel>
@attribute [DisplayDialog]

<MatDialogTitle>Dodaj usługi</MatDialogTitle>
<MatDialogContent>
    @if (!PageModel.IsLoading && PageModel.ServiceModels != null)
    {
        <MatTable Items="PageModel.ServiceModels" class="table" ShowPaging="false" UseSortHeaderRow="true" RowClass="table-row" HeaderRowClass="table-header">
            <MatTableHeader>
                <th scope="col">Nazwa</th>
                <th scope="col">Cena</th>
                <th scope="col">Edycja</th>
            </MatTableHeader>
            <MatTableRow>
                <td>@context.Name</td>
                <td>@context.Price</td>
                <td><MatIconButton Icon="@(context.IsInOrder ? MatIconNames.Remove : MatIconNames.Add)" Command="PageModel.AddRemoveServiceCommand" CommandParameter="context" /></td>
            </MatTableRow>
        </MatTable>
    }
</MatDialogContent>
<MatDialogActions>
    <MatButton Command="PageModel.CloseCommand">OK</MatButton>
</MatDialogActions>