@page "/registration"
@layout WelcomeLayout
@inherits PageBase<RegistrationPageModel>

<MBCard AutoStyled="true" style="margin-top: 30px;">
    <Primary>
        <EditForm Model="PageModel.RegisterModel" OnValidSubmit="PageModel.RegisterAction">
            <DataAnnotationsValidator />

                <MBTextField 
                    @bind-Value="PageModel.RegisterModel.Name" 
                    LeadingIcon="person" 
                    Label="Imię" 
                    style = "width: 100%;"
                    TextInputStyle="MBTextInputStyle.Outlined" 
                    ValidationMessageFor="@(() => @PageModel.RegisterModel.Name)" />

                <MBTextField 
                    @bind-Value="PageModel.RegisterModel.Surname" 
                    LeadingIcon="person" 
                    style = "width: 100%;"
                    Label="Nazwisko" 
                    TextInputStyle="MBTextInputStyle.Outlined" 
                    ValidationMessageFor="@(() => @PageModel.RegisterModel.Surname)" />

                <MBTextField 
                    @bind-Value="PageModel.RegisterModel.Email" 
                    LeadingIcon="email"
                    style = "width: 100%;"
                    Label="E-mali"
                    TextInputStyle="MBTextInputStyle.Outlined" 
                    ValidationMessageFor="@(() => @PageModel.RegisterModel.Email)" />

                <MBTextField 
                    @bind-Value="PageModel.RegisterModel.Password" 
                    LeadingIcon="lock" 
                    style = "width: 100%;"
                    Label="Hasło" 
                    type="password" 
                    TextInputStyle="MBTextInputStyle.Outlined" 
                    ValidationMessageFor="@(() => @PageModel.RegisterModel.Password)" />

                <MBTextField 
                    @bind-Value="PageModel.RegisterModel.ConfirmPassword" 
                    LeadingIcon="lock" 
                    Label="Powtórz hasło" 
                    style = "width: 100%;"
                    type="password" 
                    TextInputStyle="MBTextInputStyle.Outlined" 
                    ValidationMessageFor="@(() => @PageModel.RegisterModel.ConfirmPassword)"/>

                <MBButton Label="Mam już konto" ButtonStyle="@MBButtonStyle.ContainedRaised" @onclick="() => PageModel.LoginCommand.Execute(null)"  />
                <MBButton Label="Zarejestruj się" ButtonStyle="@MBButtonStyle.ContainedRaised" Disabled="@PageModel.IsLoading" type="Submit" />
        </EditForm>
    </Primary>
</MBCard>